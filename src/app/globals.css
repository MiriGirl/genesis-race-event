@tailwind base;
@tailwind components;
@tailwind utilities;

/* Reset & defaults */
html,
body {
  margin: 0;
  padding: 0;
  height: 100%;
  width: 100%;
  background-color: black;
  color: white;
}

/* Custom DragRacing font (local) */
@font-face {
  font-family: "DragRacing";
  src: url("/fonts/DragRacing.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
}

/* Tailwind font shortcuts */
.font-sans {
  font-family: var(--font-poppins), sans-serif; /* from next/font */
}

.font-dragracing {
  font-family: "DragRacing", sans-serif;
}

/* Animated gradient border */
/* Animated border line going around the box */
.animated-border {
  position: relative;
  border-radius: 2px;
}

.animated-border::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 3px; /* thickness */
  background: linear-gradient(90deg, #ff00ff, #a700d1, #ff00ff);
  background-size: 300% 300%;
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;

  animation: border-move 6s linear infinite;
}

@keyframes border-move {
  0% {
    background-position: 0% 50%;
  }
  25% {
    background-position: 100% 50%;
  }
  50% {
    background-position: 100% 100%;
  }
  75% {
    background-position: 0% 100%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes fillBar {
  from {
    width: 0%;
  }
  to {
    width: 100%;
  }
}

.progress-bar {
  height: 5px;
  background-color: #a020f0; /* purple */
  animation: fillBar 3s linear forwards;
}

.fade-in {
  animation: fadeIn 0.4s ease-in-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(18px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.tab-content {
  opacity: 0;
  transform: translateY(8px);
  transition: opacity 0.4s ease, transform 0.4s ease;
  display: none;
}

.tab-content.active {
  opacity: 1;
  transform: translateY(0);
  display: block;
}

@keyframes slideUp {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

/* HTML: <div class="loader"></div> */
.loader {
  width: 60px;
  aspect-ratio: 1;
  --g: conic-gradient(from -90deg at 10px 10px, #fff 90deg, #0000 0);
  background: var(--g), var(--g), var(--g);
  background-size: 50% 50%;
  animation: l16 1s infinite;
}

@keyframes l16 {
  0%   { background-position: 0    0   ,10px 10px,20px 20px } 
  50%  { background-position: 0    20px,10px 10px,20px 0   } 
  100% { background-position: 20px 20px,10px 10px,0    0   } 
}

/* ========================= */
/* SECTOR TRACK STYLES       */
/* ========================= */

/* Idle state (default grey track) */
[data-id^="track-"] {
  stroke: rgba(218, 218, 218, 0.15) !important;
  stroke-width: 12;
}

/* Completed sectors */
[data-id^="track-"].completed {
  stroke: #7000E0 !important;
  stroke-width: 12;
  stroke-linecap: round;
  filter: drop-shadow(0px 0px 4px #7000E0);
}

/* Active sector */
[data-id^="track-"].active {
  stroke: #A349EF !important;
  stroke-width: 12;
  stroke-linecap: round;
  stroke-dasharray: 1200;
  stroke-dashoffset: 1200;
  animation: pulseGradientGlow 2s infinite ease-in-out, dashForward 12s linear infinite;
  opacity: 1 !important;
}

[data-id="track-1"] path {
  fill: #6B00B6;   /* Purple background */
  stroke: #6B00B6;
}

[data-id="track-1"] text {
  fill: #ffffff;   /* White text */
}
/* ========================= */
/* SECTOR NUMBER STYLES      */
/* ========================= */

/* Default (idle) */
[id^="number"] {
  fill: #ffffff !important;
}

[id^="number-"] text {
  fill: #7000E0 !important;
}

/* Force Sector 1 number to always stay purple with white text */
#number1 {
  fill: #7000E0 !important; /* Purple circle */
}
#number1 + text,
[id="1"] {
  fill: #ffffff !important; /* White text */
}

/* Completed number */
[id^="number"].completed {
  fill: #7000E0 !important;
}
[id^="number-"].completed text {
  fill: #ffffff !important;
}

/* Active number */
[id^="sector"].active rect {
  fill: #A349EF !important;
}
[id^="sector"].active text {
  fill: #ffffff !important;
}
[id^="sector"].active {
  animation: pulseGlow 1.4s infinite ease-in-out;
  transform-box: fill-box;
  -webkit-transform-box: fill-box; /* Safari */
  transform-origin: 50% 50%;
  -webkit-transform-origin: 50% 50%;
  will-change: transform, opacity, filter;
}

/* ========================= */
/* ANIMATIONS                */
/* ========================= */

@keyframes pulseGlow {
  0%   { transform: scale(1);   opacity: 1;    filter: drop-shadow(0 0 3px #A349EF); }
  50%  { transform: scale(1.2); opacity: 0.85; filter: drop-shadow(0 0 14px #A349EF); }
  100% { transform: scale(1);   opacity: 1;    filter: drop-shadow(0 0 3px #A349EF); }
}

@keyframes dashForward {
  from { stroke-dashoffset: 1200; }
  to   { stroke-dashoffset: 0; }
}

@keyframes pulseGradientGlow {
  0%   { filter: drop-shadow(0 0 6px #420BD9); }
  50%  { filter: drop-shadow(0 0 16px #D73AFF); }
  100% { filter: drop-shadow(0 0 6px #420BD9); }
}